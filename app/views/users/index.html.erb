<div class="container-fluid py-3">
  <div class="card shadow-sm">
    <div class="card-header bg-white d-flex justify-content-between align-items-center py-3">
      <h5 class="mb-0 font-weight-bold text-dark"><i class="bi bi-people mr-2"></i>Usuarios</h5>
      <div class="btn-group">
        <%= link_to new_user_path, class: "btn btn-primary btn-sm", data: { toggle: "tooltip" }, title: "Crear usuario" do %>
          <i class="bi bi-plus-lg"></i> Crear usuario
        <% end %>
      </div>
    </div>
    <div class="card-body table-card-body">
      <div class="table-responsive">
        <table class="table table-hover table-striped table-bordered mb-0 text-center">
          <thead class="thead-light">
            <tr>
              <th>Id</th>
              <th>Nombre</th>
              <th>Teléfono</th>
              <th>Email</th>
              <th>Rol</th>
              <th class="text-nowrap">Opciones</th>
            </tr>
          </thead>
          <tbody>
            <% @users.each do |u| %>
              <tr>
                <td data-order="<%= u.id.to_i %>"><%= u.id %></td>
                <td><%= u.name %></td>
                <td><%= u.phone %></td>
                <td><%= u.email %></td>
                <td><%= u.rol %></td>
                <td>
                  <div class="btn-group btn-group-sm" role="group">
                    <%= link_to edit_user_path(u), class: "btn btn-outline-success", data: { toggle: "tooltip" }, title: "Editar" do %>
                      <i class="bi bi-pencil"></i>
                    <% end %>
                    <%= link_to edit_password_user_path(u), class: "btn btn-outline-info", data: { toggle: "tooltip" }, title: "Cambiar contraseña" do %>
                      <i class="bi bi-key"></i>
                    <% end %>
                    <span data-toggle="tooltip" title="Enviar instrucciones para cambiar contraseña">
                      <%= button_to send_reset_password_instructions_user_path(u), method: :post, class: "btn btn-outline-secondary", form: { class: "d-inline" } do %>
                        <i class="bi bi-envelope"></i>
                      <% end %>
                    </span>
                    <%= link_to u, method: :delete, data: { confirm: "¿Seguro deseas eliminar el usuario?", toggle: "tooltip" }, title: "Eliminar", class: "btn btn-outline-danger" do %>
                      <i class="bi bi-trash"></i>
                    <% end %>
                  </div>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
